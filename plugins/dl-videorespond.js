// PRINCE PROPERTY DON'T TOUCH IT OTHERWISE YOU WILL BE FAMOUS IN THE DEPLOYERS AS A CODE THEIF AND JUNIOR DEVELOPER








const _0x1f6963=_0x1b19;(function(_0x5570dc,_0x12c390){const _0x38f5e0=_0x1b19,_0x2399df=_0x5570dc();while(!![]){try{const _0x18ef54=parseInt(_0x38f5e0(0x1d0))/0x1+-parseInt(_0x38f5e0(0x1a6))/0x2*(parseInt(_0x38f5e0(0x1a2))/0x3)+parseInt(_0x38f5e0(0x1a4))/0x4*(-parseInt(_0x38f5e0(0x18f))/0x5)+parseInt(_0x38f5e0(0x1c0))/0x6+parseInt(_0x38f5e0(0x191))/0x7*(-parseInt(_0x38f5e0(0x1c2))/0x8)+parseInt(_0x38f5e0(0x1ba))/0x9+-parseInt(_0x38f5e0(0x198))/0xa;if(_0x18ef54===_0x12c390)break;else _0x2399df['push'](_0x2399df['shift']());}catch(_0x34965b){_0x2399df['push'](_0x2399df['shift']());}}}(_0x4974,0x3fdab));import _0x640a84 from'yt-search';function _0x1b19(_0x3214ab,_0x3d6c11){const _0x497438=_0x4974();return _0x1b19=function(_0x1b190a,_0x2466ba){_0x1b190a=_0x1b190a-0x175;let _0x252e62=_0x497438[_0x1b190a];return _0x252e62;},_0x1b19(_0x3214ab,_0x3d6c11);}import _0x537cd6 from'node-fetch';const FILE_SIZE_LIMITS={'STANDARD':0x32,'MAXIMUM':0x64};async function search(_0x866cba){const _0x5b22a5=_0x1b19;try{const _0xe916f2=_0x866cba[_0x5b22a5(0x1b0)]()[_0x5b22a5(0x17a)](/\s+/g,'\x20'),_0x542985=await _0x640a84['search']({'query':'\x22'+_0xe916f2+'\x22','hl':'en','gl':'US','pages':0x3}),_0x35ed57=_0x542985['videos'][_0x5b22a5(0x19e)](_0x12d575=>_0x12d575[_0x5b22a5(0x1a9)][_0x5b22a5(0x1c5)]()[_0x5b22a5(0x1c1)](_0xe916f2[_0x5b22a5(0x1c5)]())||_0x12d575[_0x5b22a5(0x184)][_0x5b22a5(0x1c5)]()[_0x5b22a5(0x1c1)](_0xe916f2[_0x5b22a5(0x1c5)]()));if(_0x35ed57[_0x5b22a5(0x1c9)]===0x0)throw new Error(_0x5b22a5(0x1b8));return _0x35ed57[0x0];}catch(_0x5a1a1c){console[_0x5b22a5(0x19a)]('Search\x20Error:',_0x5a1a1c);throw new Error(_0x5b22a5(0x1a7));}}const handler=async(_0x2b93e0,{conn:_0x5da205,command:_0x1b344a,args:_0x48092c,usedPrefix:_0x57a847})=>{const _0x1c39d3=_0x1b19;try{const _0x429ca0=_0x48092c[0x0]||(_0x2b93e0[_0x1c39d3(0x17e)]?.[_0x1c39d3(0x1a8)]||'');if(!_0x429ca0)throw'🌟\x20*Choose\x20Your\x20Video\x20Quality*\x20🌟\x0a\x0a🎬\x20*Options\x20Available:*\x20\x0a\x20\x20\x20➤\x20*'+_0x57a847+_0x1c39d3(0x18a)+_0x57a847+_0x1c39d3(0x17d)+_0x57a847+'video3*\x20-\x20720p\x20🎥\x0a\x20\x20\x20➤\x20*'+_0x57a847+_0x1c39d3(0x1c6)+_0x57a847+_0x1b344a+_0x1c39d3(0x1b9);_0x2b93e0[_0x1c39d3(0x194)]&&_0x2b93e0[_0x1c39d3(0x194)]('⏳');let _0x2d6c86,_0x988ee3;if(_0x429ca0[_0x1c39d3(0x18b)](/youtube\.com|youtu\.be/))_0x2d6c86=_0x429ca0,_0x988ee3=await _0x640a84({'videoId':extractVideoId(_0x2d6c86)});else{const _0x3b1d10=await search(_0x429ca0);if(!_0x3b1d10)throw new Error(_0x1c39d3(0x17c));_0x988ee3=_0x3b1d10,_0x2d6c86=_0x988ee3[_0x1c39d3(0x1c8)];}const _0x229e4e=_0x988ee3['thumbnail'],_0x284b12=_0x1c39d3(0x1b4)+(_0x988ee3[_0x1c39d3(0x18c)]?_0x988ee3[_0x1c39d3(0x18c)]['name']:_0x1c39d3(0x1ae))+_0x1c39d3(0x1af)+(_0x988ee3[_0x1c39d3(0x1a9)]||_0x1c39d3(0x1b1))+'\x0a\x20\x20*⏳\x20Duration:*\x20'+(secondString(_0x988ee3[_0x1c39d3(0x1c3)][_0x1c39d3(0x195)])||_0x1c39d3(0x1ae))+_0x1c39d3(0x185)+(_0x988ee3[_0x1c39d3(0x1d1)]||_0x1c39d3(0x1aa))+_0x1c39d3(0x182)+_0x988ee3[_0x1c39d3(0x1c8)]+_0x1c39d3(0x18d);await _0x5da205['sendMessage'](_0x2b93e0['chat'],{'image':{'url':_0x229e4e},'caption':_0x284b12},{'quoted':_0x2b93e0}),await downloadAndSendVideo(_0x2b93e0,_0x5da205,_0x2d6c86,_0x1b344a);}catch(_0x130f1a){console[_0x1c39d3(0x19a)](_0x1c39d3(0x1ad),_0x130f1a),await _0x5da205[_0x1c39d3(0x17b)](_0x2b93e0[_0x1c39d3(0x1a1)],{'text':_0x1c39d3(0x1ab)+(_0x130f1a[_0x1c39d3(0x1a0)]||'Failed\x20to\x20process\x20video\x20request.')},{'quoted':_0x2b93e0});}};async function downloadAndSendVideo(_0x157d60,_0x528c00,_0x472319,_0x55d07a){const _0x35139d=_0x1b19;try{const _0xd40f4f=_0x35139d(0x1c4),_0x56f334=_0x35139d(0x1bc)+encodeURIComponent(_0x472319)+_0x35139d(0x1cc)+_0xd40f4f,_0x17f55f=await _0x537cd6(_0x56f334);if(!_0x17f55f['ok'])throw new Error('API\x20Error:\x20'+_0x17f55f[_0x35139d(0x17f)]);const _0x25d299=await _0x17f55f[_0x35139d(0x1a3)]();if(!_0x25d299?.['result']?.[_0x35139d(0x187)]?.['res_data']?.[_0x35139d(0x1cf)])throw new Error(_0x35139d(0x1ac));const _0x1efa5d=_0x25d299['result']['caption']['res_data']['formats'],_0x3044e2=_0x25d299[_0x35139d(0x175)][_0x35139d(0x187)]['res_data']['title']||_0x35139d(0x1bd),_0x5a32de=getTargetQuality(_0x55d07a);let _0x585b15=await selectBestFormat(_0x1efa5d,_0x5a32de);if(!_0x585b15)throw new Error(_0x35139d(0x176)+_0x5a32de);const _0x539128=await getBuffer(_0x585b15[_0x35139d(0x1c8)]),_0x196587=_0x585b15[_0x35139d(0x1bb)]/(0x400*0x400);if(_0x196587>=FILE_SIZE_LIMITS[_0x35139d(0x181)])await _0x528c00['sendMessage'](_0x157d60['chat'],{'text':_0x585b15[_0x35139d(0x1c8)]},{'quoted':_0x157d60});else _0x196587>=FILE_SIZE_LIMITS[_0x35139d(0x1c7)]?await _0x528c00['sendMessage'](_0x157d60[_0x35139d(0x1a1)],{'document':_0x539128,'mimetype':_0x35139d(0x190),'fileName':_0x3044e2+_0x35139d(0x179)},{'quoted':_0x157d60}):(_0x157d60[_0x35139d(0x194)]&&_0x157d60['react']('✅'),await _0x528c00[_0x35139d(0x17b)](_0x157d60[_0x35139d(0x1a1)],{'video':_0x539128,'mimetype':_0x35139d(0x190),'fileName':_0x3044e2+_0x35139d(0x179),'caption':_0x3044e2+_0x35139d(0x197)+_0x585b15['quality']+_0x35139d(0x1ca)+_0x196587[_0x35139d(0x1b3)](0x2)+'MB'},{'quoted':_0x157d60}));}catch(_0x4a2054){console[_0x35139d(0x19a)](_0x35139d(0x1bf),_0x4a2054);throw new Error(_0x35139d(0x18e));}}function getTargetQuality(_0x547f02){const _0x3d724e=_0x1b19,_0x6d1f4c={'video':_0x3d724e(0x1b5),'video2':_0x3d724e(0x1b6),'video3':_0x3d724e(0x19f),'video4':'1080p'};return _0x6d1f4c[_0x547f02]||_0x3d724e(0x1b5);}async function selectBestFormat(_0xa9dde1,_0x33b181){const _0xb20831=_0x1b19,_0xc3126b=_0xa9dde1[_0xb20831(0x19e)](_0x3d9d55=>{const _0x83df1f=_0xb20831;return _0x3d9d55[_0x83df1f(0x177)]===_0x33b181&&_0x3d9d55[_0x83df1f(0x178)]!==_0x83df1f(0x180)&&(_0x3d9d55[_0x83df1f(0x192)]===_0x83df1f(0x19c)||_0x3d9d55[_0x83df1f(0x192)]===_0x83df1f(0x1ce));});return _0xc3126b[_0xb20831(0x189)]((_0x1cf19a,_0x3bba6c)=>_0x1cf19a['filesize']-_0x3bba6c['filesize']),_0xc3126b[_0xb20831(0x1a5)](_0x2507bd=>_0x2507bd[_0xb20831(0x192)]===_0xb20831(0x19c))||_0xc3126b[0x0];}async function getBuffer(_0x45a666){const _0x1797cb=_0x1b19,_0x4fb05d=await _0x537cd6(_0x45a666);if(!_0x4fb05d['ok'])throw new Error('Failed\x20to\x20download\x20video');return Buffer[_0x1797cb(0x183)](await _0x4fb05d['arrayBuffer']());}function _0x4974(){const _0x1625ab=['tags','filter','720p','message','chat','660873LgyFlu','json','84868GdWkDv','find','2uyekuk','Failed\x20to\x20search\x20for\x20the\x20video.\x20Please\x20try\x20again\x20later.','text','title','N/A','Error:\x20','Invalid\x20API\x20response\x20structure','Handler\x20Error:','Unknown','\x0a\x20\x20*🎶\x20Title:*\x20','trim','Untitled','\x20mins,\x20','toFixed','╭━━⊱🌠\x20*Y\x20O\x20U\x20T\x20U\x20B\x20E*\x20🌌\x20⊱━━\x0a\x20\x20*🍿\x20Author:*\x20','360p','480p','floor','No\x20relevant\x20results\x20found\x20for\x20your\x20query.','\x20_<Your\x20Query\x20or\x20YouTube\x20Link>_\x0a\x0a💡\x20*Tip:*\x20Reply\x20with\x20the\x20command\x20and\x20your\x20desired\x20video\x20link\x20or\x20title\x20to\x20download.\x20📥\x0a\x0a🎶\x20*_Mola\x20ya\x20sali\x20waslim\x20naat..._*','3362571RGbyHF','filesize','https://api.yanzbotz.live/api/downloader/youtube?url=','video','map','Download\x20Error:','2610090zOeATB','includes','152yRlhTW','duration','yanzdev','toLowerCase','video4*\x20-\x201080p\x20📺\x0a\x0a📌\x20*Example\x20Usage:*\x20','STANDARD','url','length','\x0aSize:\x20','command','&apiKey=','\x20secs','webm','formats','485722BUvNvD','views','result','No\x20suitable\x20format\x20found\x20for\x20quality:\x20','quality','vcodec','.mp4','replace','sendMessage','No\x20video\x20found\x20for\x20the\x20provided\x20query.','video2*\x20-\x20480p\x20🎞️\x0a\x20\x20\x20➤\x20*','quoted','status','none','MAXIMUM','\x0a\x20\x20*🔗\x20Link:*\x20','from','description','\x0a\x20\x20*👀\x20Views:*\x20','video3','caption','video4','sort','video*\x20-\x20360p\x20📹\x0a\x20\x20\x20➤\x20*','match','author','\x0a\x20\x20\x20⊱─━━\x20*P\x20R\x20I\x20N\x20C\x20E\x20\x20MD*\x20━━─⊰','Failed\x20to\x20download\x20video.\x20Please\x20try\x20again\x20later.','35DmakFL','video/mp4','63399vMUywA','ext','\x20hours,\x20','react','seconds','video2','\x0aQuality:\x20','4919160iICCgV','\x20days,\x20','error','help','mp4'];_0x4974=function(){return _0x1625ab;};return _0x4974();}function secondString(_0x304363){const _0x252063=_0x1b19;_0x304363=Number(_0x304363);const _0x310552=Math[_0x252063(0x1b7)](_0x304363/(0xe10*0x18)),_0x5ddece=Math[_0x252063(0x1b7)](_0x304363%(0xe10*0x18)/0xe10),_0x2d7a1a=Math[_0x252063(0x1b7)](_0x304363%0xe10/0x3c),_0x2e6cf7=Math[_0x252063(0x1b7)](_0x304363%0x3c),_0x2b596b=_0x310552>0x0?_0x310552+_0x252063(0x199):'',_0xca2cbb=_0x5ddece>0x0?_0x5ddece+_0x252063(0x193):'',_0x592c09=_0x2d7a1a>0x0?_0x2d7a1a+_0x252063(0x1b2):'',_0xc3b1ff=_0x2e6cf7>0x0?_0x2e6cf7+_0x252063(0x1cd):'';return _0x2b596b+_0xca2cbb+_0x592c09+_0xc3b1ff;}handler[_0x1f6963(0x19b)]=[_0x1f6963(0x1bd),'video2',_0x1f6963(0x186),_0x1f6963(0x188)][_0x1f6963(0x1be)](_0x29cf2b=>_0x29cf2b+'\x20<query>'),handler[_0x1f6963(0x19d)]=['downloader'],handler[_0x1f6963(0x1cb)]=[_0x1f6963(0x1bd),_0x1f6963(0x196),_0x1f6963(0x186),_0x1f6963(0x188)];export default handler;
